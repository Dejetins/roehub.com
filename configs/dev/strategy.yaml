version: 1

strategy:
  api:
    enabled: true

  live_worker:
    enabled: true
    poll_interval_seconds: 5

    redis_streams:
      enabled: true
      host: "redis"
      port: 6379
      db: 0
      password_env: "ROEHUB_REDIS_PASSWORD"
      socket_timeout_s: 2.0
      connect_timeout_s: 2.0
      stream_prefix: "md.candles.1m"
      consumer_group: "strategy.live_runner.v1"
      read_count: 200
      block_ms: 100

    repair:
      retry_attempts: 3
      retry_backoff_seconds: 1.0

  realtime_output:
    redis_streams:
      enabled: true
      host: "redis"
      port: 6379
      db: 0
      password_env: "ROEHUB_REDIS_PASSWORD"
      socket_timeout_s: 2.0
      connect_timeout_s: 2.0
      metrics_stream_prefix: "strategy.metrics.v1.user"
      events_stream_prefix: "strategy.events.v1.user"

  telegram:
    enabled: true
    mode: "log_only"
    bot_token_env: "TELEGRAM_BOT_TOKEN"
    api_base_url: "https://api.telegram.org"
    send_timeout_s: 2.0
    debounce_failed_seconds: 600

  metrics:
    port: 9203
